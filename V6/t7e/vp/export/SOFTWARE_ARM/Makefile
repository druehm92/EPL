####################################################################
# Copyright CoWare, Inc. 1996-2004. All rights reserved.           #
#                                                                  #
# Author : CoWare                                                  #
#                                                                  #
# Filename : Makefile                                              #
#                                                                  #
# Purpose : makefile for software build : Use in your SOFTWARE_xxx #
#           export directory & override CORE specific defines      #
#                                                                  #
####################################################################
#-----Makefile.example-------------------------------------
#-----Include definitions dumped by platformcreator -------
include Makefile.include
CPPFILES += 
EXTRA_SIM_DEPENDS += /net/user/r1/unix/mep_04/tasks/t7e/vp/export/SOFTWARE_ARM/boot.o
ASMFILES += 
CODEBASE = 0x8000
DATABASE = 0x0
BOOT_DIR = /net/user/r1/unix/mep_04/tasks/t7e/vp/export/SOFTWARE_ARM
CORE_INCLUDES = 
DISASSEMBLY_FILE = sim.dis
LINKER_OPTIONS = 
CORE_LIBRARIES = boot.o --ro_base ${CODEBASE} --rw_base ${DATABASE} --first 'boot.o(_CWR_BOOT_CODE)' 
CORE_DEFINES = 
#-----Set up compiler and options--------------------------
ASM = armasm
CXX = armcpp
LD = armlink
ASMFLAGS =  --pd "UNDEFINTHANDLER setl {TRUE}" --pd "SWIINTHANDLER setl {TRUE}" --pd "PREFETCHINTHANDLER setl {TRUE}" --pd "ABORTINTHANDLER setl {TRUE}" --pd "IRQINTHANDLER setl {TRUE}" --pd "FIQINTHANDLER setl {TRUE}" --pd "INTENABLEFLAG setl {TRUE}" --pd "RTLIBRARYREQUIRED setl {TRUE}"
CXXFLAGS =  -O2 
LDFLAGS = 
SYMFILE = ./symfile
#-----Include standard buildrules--------------------------
include /software/Synopsys_CoWare/N-2017.12/VPProducts/SLS/linux/pc/swlib/Makefile.buildrules
symfile: 
	$(LD) -symbols -map -list mapfile $(LIBRARIES) -o simmap $(notdir $(OBJ))
	gawk -f /net/software/r1/Linux/software/Synopsys_CoWare/N-2017.12/VPProducts/IP/ARM926EJS_TLM2_PSP/Softflow/script/ADS_CreateSymfile.awk -v cpu="HARDWARE.ARM" mapfile > $(SYMFILE)
#-----Generated by make depend---------------------------
disassembly: 
	fromelf -c sim > $(DISASSEMBLY_FILE)
